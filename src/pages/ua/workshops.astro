---
import { getLangFromUrl, useTranslations } from "@/assets/i18n/utils";

import MainLayout from "@/layouts/MainLayout.astro";

import WorkshopCard from "@/components/Workshops/WorkshopCard.astro";
import WorkshopModal from "@/components/Workshops/WorkshopModal.astro";
import AllWorkshopsCard from "@/components/Workshops/AllWorkshopsCard.astro";

import { workshops } from "@/components/Workshops/constants";

const lang = getLangFromUrl(Astro.url);
const locale = lang === "ru" ? "/" : "/ua/";
const t = useTranslations(lang);
---

<MainLayout
	title={t("meta.title-workshops")}
	description={t("meta.description-workshops")}
	alternate="/workshops"
	canonical="/ua/workshops"
>
	<section class="workshops">
		<div class="workshops__header">
			<div class="workshops__wrapper">
				<h1 class="workshops__title">{t("workshops.title")}</h1>
				<div class="workshopsTooltip">
					<button class="workshopsTooltip__button" type="button">
						{t("workshops.tooltip")}
						<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<g clip-path="url(#clip0_356_38181)">
								<path
									d="M8 0C3.58175 0 0 3.58175 0 8C0 12.4185 3.58175 16 8 16C12.4185 16 16.0003 12.4185 16.0003 8C16.0003 3.58175 12.4185 0 8 0ZM8 15.0157C4.14025 15.0157 1 11.8597 1 7.99997C1 4.14022 4.14025 0.999969 8 0.999969C11.8597 0.999969 15.0003 4.14023 15.0003 7.99997C15.0003 11.8597 11.8598 15.0157 8 15.0157ZM7.26475 12.5075H8.52275V11.238H7.26475V12.5075ZM7.98525 3.49273C7.25275 3.49273 6.64927 3.69023 6.17527 4.08475C5.70127 4.47948 5.47077 5.26998 5.48252 5.92498L5.50102 5.96148H6.64852C6.64852 5.57073 6.77877 5.00923 7.03927 4.80773C7.29952 4.60648 7.61502 4.50573 7.98552 4.50573C8.41252 4.50573 8.74077 4.62173 8.97103 4.85372C9.20103 5.08572 9.31577 5.41747 9.31577 5.84847C9.31577 6.21072 9.23077 6.51997 9.06002 6.77622C8.88877 7.03247 8.60177 7.39873 8.19927 7.875C7.78402 8.24948 7.52752 8.55048 7.43002 8.77823C7.33227 9.00623 7.28152 9.41523 7.27777 10.005H8.48027C8.48027 9.63498 8.50375 9.36223 8.55052 9.18723C8.597 9.01248 8.73027 8.815 8.95002 8.59523C9.42227 8.13973 9.80152 7.69423 10.0888 7.2585C10.3753 6.82323 10.5188 6.34298 10.5188 5.81798C10.5188 5.08548 10.2973 4.51473 9.8535 4.10598C9.4095 3.69698 8.78675 3.49273 7.98525 3.49273Z"
									fill="#626886"></path>
							</g>
							<defs>
								<clipPath id="clip0_356_38181">
									<rect width="16" height="16" fill="white"></rect>
								</clipPath>
							</defs>
						</svg>
					</button>
					<div class="workshopsTooltip__content">
						<button type="button" class="workshopsTooltip__close" aria-label="Close Tooltip">
							<svg
								aria-hidden="true"
								width="32"
								height="32"
								viewBox="0 0 32 32"
								fill="none"
								xmlns="http://www.w3.org/2000/svg"
							>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M16 23.0157C12.1403 23.0157 9 19.8597 9 16C9 12.1402 12.1403 8.99997 16 8.99997C19.8597 8.99997 23 12.1402 23 16C23 19.8597 19.8597 23.0157 16 23.0157ZM18.1213 13.1718C18.3165 12.9765 18.633 12.9765 18.8282 13.1718C19.0238 13.3668 19.0238 13.6832 18.8282 13.8787L16.707 16L18.8282 18.1213C19.0235 18.3162 19.0235 18.6333 18.8282 18.8283C18.633 19.0235 18.3165 19.0235 18.1213 18.8283L16 16.707L13.8787 18.8283C13.6832 19.0235 13.3668 19.0235 13.1715 18.8283C12.9763 18.6333 12.9763 18.3162 13.1715 18.1213L15.2927 16L13.1715 13.8787C12.9763 13.6835 12.9763 13.367 13.1715 13.1718C13.367 12.9765 13.6835 12.9765 13.8787 13.1718L16 15.293L18.1213 13.1718Z"
									fill="#484848"></path>
								<path
									fill-rule="evenodd"
									clip-rule="evenodd"
									d="M8 16C8 11.5817 11.5817 8 16 8C20.4185 8 24 11.5817 24 16C24 20.4185 20.4185 24 16 24C11.5817 24 8 20.4185 8 16ZM9 16C9 19.8597 12.1403 23.0157 16 23.0157C19.8597 23.0157 23 19.8597 23 16C23 12.1402 19.8597 8.99997 16 8.99997C12.1403 8.99997 9 12.1402 9 16Z"
									fill="#484848"></path>
							</svg>
						</button>
						<div class="workshopsTooltip__wrapper">
							<div class="workshopsTooltip__author">
								<img
									width="48"
									height="48"
									src="/images/avatar.jpg"
									srcset="/images/avatar@2x.jpg 2x"
									alt={t("workshops.tooltipName1")}
									class="workshopsTooltip__img"
									aria-hidden="true"
								/>
								<p class="workshopsTooltip__title">
									{t("workshops.tooltipName1")}
									<span class="workshopsTooltip__title--span">{t("workshops.tooltipAbout1")}</span>
								</p>
							</div>
							<div class="workshopsTooltip__author">
								<img
									width="48"
									height="48"
									src="/images/lera.jpg"
									srcset="/images/lera@2x.jpg 2x"
									alt={t("workshops.tooltipName2")}
									class="workshopsTooltip__img"
									aria-hidden="true"
								/>
								<p class="workshopsTooltip__title">
									{t("workshops.tooltipName2")}
									<span class="workshopsTooltip__title--span">{t("workshops.tooltipAbout2")}</span>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
			<p class="workshops__description">
				{t("workshops.description1")}
				<a href="#workshopsAll" class="workshops__description--link">{t("workshops.descriptionSpan1")}</a>
			</p>
			<p class="workshops__description">
				{t("workshops.description2.1")}
				<a href={`${locale}workbook?utmContent=workshops`} class="workshops__description--link">
					{t("workshops.descriptionLink")}
				</a>,
				{t("workshops.description2.2")}
			</p>
			<div class="workshopsDetails">
				<button class="workshopsDetails__button" type="button">
					{t("workshops.tooltip")}
					<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
						<g opacity="0.3">
							<path
								d="M7 14L12 9L17 14"
								stroke="black"
								stroke-width="1.5"
								stroke-linecap="round"
								stroke-linejoin="round"></path>
						</g>
					</svg>
				</button>
				<div class="workshopsDetails__content">
					<div class="workshopsDetails__wrapper">
						<div class="workshopsDetails__author">
							<img
								width="48"
								height="48"
								src="/images/avatar.jpg"
								srcset="/images/avatar@2x.jpg 2x"
								alt={t("workshops.tooltipName1")}
								class="workshopsDetails__img"
								aria-hidden="true"
							/>
							<p class="workshopsDetails__title">
								{t("workshops.tooltipName1")}
								<span class="workshopsDetails__title--span">{t("workshops.tooltipAbout1")}</span>
							</p>
						</div>
						<div class="workshopsDetails__author">
							<img
								width="48"
								height="48"
								src="/images/lera.jpg"
								srcset="/images/lera@2x.jpg 2x"
								alt={t("workshops.tooltipName2")}
								class="workshopsDetails__img"
								aria-hidden="true"
							/>
							<p class="workshopsDetails__title">
								{t("workshops.tooltipName2")}
								<span class="workshopsDetails__title--span">{t("workshops.tooltipAbout2")}</span>
							</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="workshops__container">
			{workshops.map((workshop) => <WorkshopCard workshop={workshop} />)}
			<AllWorkshopsCard />
		</div>
	</section>
	<WorkshopModal />
</MainLayout>

<script src="../../assets/scripts/workshops.ts"></script>
